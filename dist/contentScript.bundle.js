(()=>{"use strict";const e="hideCounts",t=async(t,a)=>(await(async t=>(await t.get(e))[e]||{})(t))[a]||0,a=async(a,r)=>{const o=(await t(a,r)||0)+1,s={[e]:{[r]:o}};return await a.set(s),o},r=["ytd-rich-item-renderer","yt-lockup-view-model"],o=["related","content"],s=e=>{(e=>Array.from(e.querySelectorAll(".yt-badge-shape__text")).some(e=>e.textContent.toLowerCase().includes("Members only".toLowerCase())))(e)&&((async e=>{try{await(async e=>{browser.storage.local&&await(async e=>await a(browser.storage.local,e))(e),browser.storage.session&&await(async e=>await a(browser.storage.session,e))(e)})(e)}catch(e){}})((e=>{const t=e.querySelector("yt-content-metadata-view-model span.yt-content-metadata-view-model__metadata-text");return t?.textContent.trim()})(e)||"Unknown"),e.remove())},n=e=>{r.forEach(t=>{(e.matches(t)?[e]:e.querySelectorAll&&e.querySelectorAll(t)).forEach(s)})},c=e=>{Array.from(e.addedNodes).filter(e=>e.nodeType===Node.ELEMENT_NODE).forEach(n)};(()=>{const e=new MutationObserver(e=>e.forEach(c)),t={childList:!0,subtree:!0};o.forEach(a=>{const o=document.getElementById(a);var n;(n=o)&&r.forEach(e=>n.querySelectorAll(e).forEach(s)),e.observe(o,t)})})()})();